---
title: "Взлом майнкрафт сервера"
date: 2025-11-17
tags: [linux, incident]  
categories: [Articles]
tagline: ""
header:
  overlay_image: /assets/images/IMG_Articles/IMG_minecraft-incident/minecraft-incident_logo.jpg
  overlay_filter: 0.5 
  overlay_color: "#fff"
classes: half
layout: single
toc: true
toc_sticky: true
toc_label: "Оглавление"
---

Разберем кто и как сломал мой сервер по майнкрафту..

# Предыстория

Какое-то время назад мне задали вопрос:

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/1.png){: height="200" .align-center}

И недавно произошел случай, который идеально это объяснит.

В моем чате [`Coffee Room`](https://t.me/+YMugc-EJLXw5NDAy) появилась идея о создании своего майнкрафт сервака. Ну а что? Предлагаете только учиться в свободное время? Пффф... Под пиво - пойдет.

Так вот. Его я поднял на своем домашнем сервере. Сборку делал не я, а один опытный человек. На мой вопрос про авторизацию ответ был таков: "А зачем? С авторизацией ещё заебнее, проще ники в whitelist добавить. Но вообще это всё излишне. Если чо просто забаним." Я поржал и забил. Сервак только для майна. В нем ничего полезного нет. У юзера нет никаких прав. А во внутрянке можно достучаться только с одного устройства. Сойдет.

# Взлом жопы

И вот настал день `X`, судный день, взлом жопы. Мне пожаловались, что на сервак не заходит. Я быстренько глянул, перезагрузил и забил. Если уж перезагрузка не поможет, то мои полномочия - ВСЕ. Через недельку я решил все-таки разобраться с этой проблемой. Оказалось, что серв крашнули намеренно. Как я это понял? 

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/2.jpg){: height="200" .align-center}

Уже любопытно. Это дискорд сервер ~~долбанафта~~ "хакера" `discord.qq/mlp1`. Там человеку выражают признательность на тайском:

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/3.jpg){: height="200" .align-center}

А вот еще:

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/4.jpg){: height="200" .align-center}

Немного погуляв по дискордику, я нашел ник `Ogmur`, и, чутка погуглив, обнаружил это:

![](https://www.youtube.com/watch?v=aRjJpeY7ScY)

# Время ~~приключений~~ расследований

После того как я перестал ржать (а это у меня заняло примерно минут 20), я решил выяснить - а что же использовалось для взлома? Интересно же...

Постой, а как же логи?

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/5.jpg){: height="200" .align-center}

## Изучение логов

Сейчас самое время про них рассказать. Сервер, как и любой демон, ведет логи. Их можно посмотреть с помощью команды `journalctl`. Чтобы не сойти с ума, лучше использовать удобный флаг `--since`. Выглядит это все вот таким образом:

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/6.png){: height="200" .align-center}

Теперь с этой пеленой текста нужно что-то делать. У меня было несколько зацепок:
- Записи о заходах на сервер с `ip` адресами;
- Отчеты о краше сервера;
- Ник `Ogmur`;

"Кем нужно быть, чтобы оставить свой ник на месте взлома?" - спросите вы. Хороший вопрос. ~~Конченным~~ придурком. И мне повезло, что он именно такой)

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/7.jpeg){: height="200" .align-center}

Вот пруфы:

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/8.png){: height="200" .align-center}

Тут сразу я нашел время и дату инцидента. Копаю дальше. Оказывается, что я заходил на сервер, выгнав его с моего аккаунта. Но логи сервера я не смотрел. Промотав чуть ниже, я нашел его `ip`:

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/9.png){: height="200" .align-center}

Глянул, что это вообще за адрес такой.

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/10.jpg){: height="200" .align-center}

Далее я решил поискать в папке сервера через `grep -r` строку `Ogmur`. И я нашел 2 попадания:
- `usercache.json`;
- `ops.json`;

Наиболее интересен для меня `ops.json`, ибо я не имею понятия на счет `uuid` пользователей в майне. Хотя стоит покопать в этом направлении. Вдруг можно сопоставить `uuid` с лицензионной версией майнкрафта. Так вот, в файле я нашел следующее:

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/11.jpg){: height="200" .align-center}

Как видно из конфига - он выдал права админа на сервере трем аккаунтам. А все это из-за отсутствия аутентификации. К моему сожалению ничего интересного в атаке не было. Имея права админа на сервере, он наспавнил различных блоков, чтобы перегрузить карту. И сервер лег, не имея возможности это корректно переварить.

## Выявления проблемы

Основной проблемой послужило то, что не было никакой аутентификации на сервере. Из-за этого можно было войти в любой аккаунт. Так же на сервере не была придусмотрена авторизация для выполнения админских команд. Из-за чего произошла эскалация аккаунта до админа.

Так как сервер публичный, то на него мог зайти любой. Как был найден мой `ip`? Вероятно для этого использовался скан дефолтного порта для майнкрафт серверов, получение фингерпринтов, по которым определялось, что это именно майнкрафт сервер.

На его гите я нашел вот эту тулу: https://github.com/Ogmur/ServerSeeker. Вероятно с помощью нее можно найти рандомный сервак в сети.

# Что было дальше?

Сама ситуация очень забавная, так как я обезопасил другие устройства от атаки с сервера. А та серьезность, с которой чел рассказывает про взлом - меня лишь рассмешила. 

![IMG](/assets/images/IMG_Articles/IMG_minecraft-incident/12.jpg){: height="200" .align-center}

А тем, кто хостит что-то свое - не забывайте, что любой может попасть под удар. Поэтому не стоит игнорировать базовые методы безопасности) `ip` все еще живой... А у него много открытых портов... Но это уже совсем другая история.

